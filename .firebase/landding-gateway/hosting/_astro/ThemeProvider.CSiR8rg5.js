import{j as g}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.CQ95-tCy.js";const u=s.createContext();function T({children:d}){const[a,t]=s.useState("light");s.useEffect(()=>{const e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,c=e||(r?"dark":"light");t(c),o(c);const m=window.matchMedia("(prefers-color-scheme: dark)"),n=l=>{if(!localStorage.getItem("theme")){const h=l.matches?"dark":"light";t(h),o(h)}};return m.addEventListener("change",n),()=>m.removeEventListener("change",n)},[]);const o=e=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",e)},i={theme:a,setTheme:e=>{t(e),o(e)},toggleTheme:()=>{const e=a==="light"?"dark":"light";t(e),o(e)}};return g.jsx(u.Provider,{value:i,children:d})}export{T as default};
